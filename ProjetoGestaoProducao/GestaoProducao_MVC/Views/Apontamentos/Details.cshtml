@model GestaoProducao_MVC.Models.ViewModel.ApontamentoViewModel

@{
    ViewData["Title"] = "Detalhes";
}

<h1 class="text-center">@ViewData["Title"]</h1>

<li>
    <h4>Apontamento</h4>
    <hr />
    <ul class="details-ponto">
        <li class="maquina">
            <h6>@Html.DisplayNameFor(model => model.Apontamento.Maquina)</h6>
            <p>@Html.DisplayFor(model => model.Apontamento.Maquina.Nome)</p>
        </li>
        <li class="funcionario">
            @Html.DisplayNameFor(model => model.Apontamento.Funcionario)
            @Html.DisplayFor(model => model.Apontamento.Funcionario.Name)


        </li>
       

        <li class="tempo">
            @Html.DisplayNameFor(model => model.Apontamento.TempoTotal)
            @Html.DisplayFor(model => model.Apontamento.TotalTime)
            @Html.DisplayNameFor(model => model.Apontamento.TempoDeParadasFormatado)
            @Html.DisplayFor(model => model.Apontamento.TempoDeParadasFormatado)
        </li>
        <li class="apontamento">
            <p>@Html.DisplayNameFor(model => model.Apontamento.DataInicial)</p>
            <p>@Html.DisplayFor(model => model.Apontamento.DataInicial)</p>
            <p>@Html.DisplayNameFor(model => model.Apontamento.DataFinal)</p>
            @Html.DisplayFor(model => model.Apontamento.DataFinal)
            @Html.DisplayNameFor(model => model.Apontamento.Processo.OrdemProdutoId)


            @Html.DisplayFor(model => model.Apontamento.Processo.OrdemProdutoId)
            @Html.DisplayNameFor(model => model.Apontamento.Processo.CodigoPeca)

            @Html.DisplayFor(model => model.Apontamento.Processo.CodigoPeca)



            @Html.DisplayNameFor(model => model.Apontamento.Operacao)




            @Html.DisplayNameFor(model => model.Apontamento.Descricao)

            @Html.DisplayFor(model => model.Apontamento.Descricao)

        </li>


    </ul>

    </div>


    <div>
        <h4>Registros de Paradas</h4>
        <hr />
        <table class="table">
            <thead>
                <tr class="table-dark">

                    <th>
                        @Html.DisplayNameFor(model => model.RegistroParadas[0].CodigoParada.Descricao)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.RegistroParadas[0].TempoTotal)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.RegistroParadas[0].Status)
                    </th>
                    <th> + Detalhes</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.RegistroParadas)
                {
                    @if (item.Status == GestaoProducao_MVC.Models.Enums.AptStatus.Ativo)
                    {
                        ViewData["Active"] = "table-danger";

                    }
                    else
                    {
                        ViewData["Active"] = "table-primary";
                    }
                    <tr class="@ViewData["Active"]">

                        <td>
                            @Html.DisplayFor(modelItem => item.CodigoParada.Descricao)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.TempoDeParadaFormatado)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Status)
                        </td>


                        <td>
                            <a asp-controller="RegistroParadas" asp-action="Edit" asp-route-id="@item.Id">Edit</a> |
                            <a asp-controller="RegistroParadas" asp-action="Details" asp-route-id="@item.Id">Details</a> |
                            <a asp-controller="RegistroParadas" asp-action="Delete" asp-route-id="@item.Id">Delete</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>

    </div>




    <div>
        <a asp-action="Edit" asp-route-id="@Model?.Apontamento.Id" class="btn btn-outline-warning">Editar</a> |
        <a asp-action="Index" class="btn btn-outline-dark">Voltar</a>
    </div>
